using Microsoft.VisualStudio.TestTools.UnitTesting;

namespace AOC_10_1.Tests
{
    [TestClass]
    public class UnitTest1
    {
        [TestMethod]
        public void TestSample1()
        {
            var map = "......#.#.\r\n#..#.#....\r\n..#######.\r\n.#.#.###..\r\n.#..#.....\r\n..#....#.#\r\n#..#....#.\r\n.##.#..###\r\n##...#..#.\r\n.#....####";
            map.Replace("\r", "");
            var split = map.Split("\n");
            var astMap = new AstroidMap();
            astMap.FromFile(split);
            Assert.AreEqual(5.5, astMap.OptimalAstroid.X);
            Assert.AreEqual(8.5, astMap.OptimalAstroid.Y);
        }

        [TestMethod]
        public void TestPuzzle()
        {
            var map = "....#...####.#.#...........#........\r\n#####..#.#.#......#####...#.#...#...\r\n##.##..#.#.#.....#.....##.#.#..#....\r\n...#..#...#.##........#..#.......#.#\r\n#...##...###...###..#...#.....#.....\r\n##.......#.....#.........#.#....#.#.\r\n..#...#.##.##.....#....##..#......#.\r\n..###..##..#..#...#......##...#....#\r\n##..##.....#...#.#...#......#.#.#..#\r\n...###....#..#.#......#...#.......#.\r\n#....#...##.......#..#.......#..#...\r\n#...........#.....#.....#.#...#.##.#\r\n###..#....####..#.###...#....#..#...\r\n##....#.#..#.#......##.......#....#.\r\n..#.#....#.#.#..#...#.##.##..#......\r\n...#.....#......#.#.#.##.....#..###.\r\n..#.#.###.......#..#.#....##.....#..\r\n.#.#.#...#..#.#..##.#..........#...#\r\n.....#.#.#...#..#..#...###.#...#.#..\r\n#..#..#.....#.##..##...##.#.....#...\r\n....##....#.##...#..........#.##....\r\n...#....###.#...##........##.##..##.\r\n#..#....#......#......###...........\r\n##...#..#.##.##..##....#..#..##..#.#\r\n.#....#..##.....#.#............##...\r\n.###.........#....#.##.#..#.#..#.#..\r\n#...#..#...#.#.#.....#....#......###\r\n#...........##.#....#.##......#.#..#\r\n....#...#..#...#.####...#.#..#.##...\r\n......####.....#..#....#....#....#.#\r\n.##.#..###..####...#.......#.#....#.\r\n#.###....#....#..........#.....###.#\r\n...#......#....##...##..#..#...###..\r\n..#...###.###.........#.#..#.#..#...\r\n.#.#.............#.#....#...........\r\n..#...#.###...##....##.#.#.#....#.#.";
            map.Replace("\r", "");
            var split = map.Split("\n");
            var astMap = new AstroidMap();
            astMap.FromFile(split);
			var res = astMap.GetAstroidDeletionOrder();
        }

		[TestMethod]
		public void TestSample2()
		{
			var map = "#.#\n.#.\n#.#";
			map.Replace("\r", "");
			var split = map.Split("\n");
			var astMap = new AstroidMap();
			astMap.FromFile(split);
			
		}

		[TestMethod]
		public void TestWithRotation()
		{
			var map = ".#..##.###...#######\n##.############..##.\n.#.######.########.#\n.###.#######.####.#.\n#####.##.#.##.###.##\n..#####..#.#########\n####################\n#.####....###.#.#.##\n##.#################\n#####.##.###..####..\n..######..##.#######\n####.##.####...##..#\n.#####..#.######.###\n##...#.##########...\n#.##########.#######\n.####.#.###.###.#.##\n....##.##.###..#####\n.#.#.###########.###\n#.#.#.#####.####.###\n###.##.####.##.#..##";
			map.Replace("\r", "");
			var split = map.Split("\n");
			var astMap = new AstroidMap();
			astMap.FromFile(split);
			var res = astMap.GetAstroidDeletionOrder();
			Assert.AreEqual(11.5, res[0].X);
			Assert.AreEqual(12.5, res[0].Y);


			Assert.AreEqual(12.5, res[9].X);
			Assert.AreEqual(8.5, res[9].Y);
		}
	}
}
